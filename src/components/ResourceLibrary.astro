---
interface Book {
  title: string;
  author: string;
  description: string;
  level: 'Pemula' | 'Menengah' | 'Lanjutan';
  language: string;
  downloadUrl: string;
}

interface Props {
  books: Book[];
}

const { books } = Astro.props;
---

<div class="bg-white rounded-lg shadow-md p-6">
  <h3 class="text-2xl font-bold text-primary mb-6">Buku yang Direkomendasikan</h3>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {books.map((book) => (
      <div 
        class="border rounded-lg p-4 hover:shadow-md transition-shadow"
        data-resource={JSON.stringify({ ...book, type: 'Buku' })}
      >
        <h4 class="text-lg font-bold text-primary mb-2">{book.title}</h4>
        <p class="text-gray-600 text-sm mb-2">oleh {book.author}</p>
        <p class="text-gray-700 mb-4">{book.description}</p>
        <div class="flex flex-wrap gap-2 mb-4">
          <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
            {book.level}
          </span>
          <span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-sm">
            {book.language}
          </span>
        </div>
        <a
          href={book.downloadUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center text-accent hover:text-primary transition-colors"
        >
          <svg
            class="w-4 h-4 mr-2"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
            ></path>
          </svg>
          Unduh eBook Gratis
        </a>
      </div>
    ))}
  </div>
</div>